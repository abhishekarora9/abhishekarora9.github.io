{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||\"http://localhost:8000\";function App(){const[file,setFile]=useState(null);const[jobId,setJobId]=useState(\"\");const[status,setStatus]=useState(\"\");const[downloadUrl,setDownloadUrl]=useState(\"\");const[error,setError]=useState(\"\");const handleFileChange=e=>{setFile(e.target.files[0]);setStatus(\"\");setDownloadUrl(\"\");setError(\"\");};const handleUpload=async()=>{if(!file)return;setStatus(\"Uploading...\");setError(\"\");const formData=new FormData();formData.append(\"file\",file);try{const res=await fetch(`${API_URL}/upload`,{method:\"POST\",body:formData});const data=await res.json();if(data.job_id){setJobId(data.job_id);setStatus(\"Processing...\");pollStatus(data.job_id);}else{setError(\"Failed to start processing.\");}}catch(err){setError(\"Upload failed.\");}};const pollStatus=async jobId=>{let interval=setInterval(async()=>{try{const res=await fetch(`${API_URL}/status/${jobId}`);const data=await res.json();setStatus(data.status);if(data.status===\"completed\"){setDownloadUrl(`${API_URL}/download/${jobId}`);clearInterval(interval);}else if(data.status===\"failed\"){setError(\"Processing failed.\");clearInterval(interval);}}catch(err){setError(\"Error checking status.\");clearInterval(interval);}},2000);};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:500,margin:\"40px auto\",padding:24,borderRadius:8,boxShadow:\"0 2px 8px #eee\",background:\"#fff\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"BPMN Generator from SOP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf,.docx,.png,.jpg,.jpeg\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{style:{marginTop:16},onClick:handleUpload,disabled:!file,children:\"Upload & Process\"}),status&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[\"Status: \",status]}),downloadUrl&&/*#__PURE__*/_jsx(\"a\",{href:downloadUrl,style:{display:\"block\",marginTop:16},download:true,children:\"Download BPMN XML\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",marginTop:16},children:error}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:32,fontSize:12,color:\"#888\"},children:\"Supported: PDF, DOCX, Images. Powered by AI multi-agent pipeline.\"})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","App","file","setFile","jobId","setJobId","status","setStatus","downloadUrl","setDownloadUrl","error","setError","handleFileChange","e","target","files","handleUpload","formData","FormData","append","res","fetch","method","body","data","json","job_id","pollStatus","err","interval","setInterval","clearInterval","style","maxWidth","margin","padding","borderRadius","boxShadow","background","children","type","accept","onChange","marginTop","onClick","disabled","href","display","download","color","fontSize"],"sources":["/Users/abhishek/Desktop/abhishekarora9.github.io/frontend/src/App.js"],"sourcesContent":["\nimport React, { useState } from \"react\";\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [jobId, setJobId] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [downloadUrl, setDownloadUrl] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n    setStatus(\"\");\n    setDownloadUrl(\"\");\n    setError(\"\");\n  };\n\n  const handleUpload = async () => {\n    if (!file) return;\n    setStatus(\"Uploading...\");\n    setError(\"\");\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    try {\n      const res = await fetch(`${API_URL}/upload`, {\n        method: \"POST\",\n        body: formData,\n      });\n      const data = await res.json();\n      if (data.job_id) {\n        setJobId(data.job_id);\n        setStatus(\"Processing...\");\n        pollStatus(data.job_id);\n      } else {\n        setError(\"Failed to start processing.\");\n      }\n    } catch (err) {\n      setError(\"Upload failed.\");\n    }\n  };\n\n  const pollStatus = async (jobId) => {\n    let interval = setInterval(async () => {\n      try {\n        const res = await fetch(`${API_URL}/status/${jobId}`);\n        const data = await res.json();\n        setStatus(data.status);\n        if (data.status === \"completed\") {\n          setDownloadUrl(`${API_URL}/download/${jobId}`);\n          clearInterval(interval);\n        } else if (data.status === \"failed\") {\n          setError(\"Processing failed.\");\n          clearInterval(interval);\n        }\n      } catch (err) {\n        setError(\"Error checking status.\");\n        clearInterval(interval);\n      }\n    }, 2000);\n  };\n\n  return (\n    <div style={{ maxWidth: 500, margin: \"40px auto\", padding: 24, borderRadius: 8, boxShadow: \"0 2px 8px #eee\", background: \"#fff\" }}>\n      <h2>BPMN Generator from SOP</h2>\n      <input type=\"file\" accept=\".pdf,.docx,.png,.jpg,.jpeg\" onChange={handleFileChange} />\n      <button style={{ marginTop: 16 }} onClick={handleUpload} disabled={!file}>Upload & Process</button>\n      {status && <div style={{ marginTop: 16 }}>Status: {status}</div>}\n      {downloadUrl && (\n        <a href={downloadUrl} style={{ display: \"block\", marginTop: 16 }} download>\n          Download BPMN XML\n        </a>\n      )}\n      {error && <div style={{ color: \"red\", marginTop: 16 }}>{error}</div>}\n      <div style={{ marginTop: 32, fontSize: 12, color: \"#888\" }}>\n        Supported: PDF, DOCX, Images. Powered by AI multi-agent pipeline.\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}